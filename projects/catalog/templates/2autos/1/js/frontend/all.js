$(function(){$.app.init()&&$.app[$("body").data("module")].init()});(function(a,b,c){a.app=a.extend({},{init:function(){return!0}},a.app)})(jQuery,this);var MSG_ERROR_GENERAL="Ha ocurrido un error. Int\u00e9ntalo nuevamente.",MSG_ERROR_NOMBRE="Debes completar el Nombre.",MSG_ERROR_APELLIDO="Debes completar el Apellido.",MSG_ERROR_EMAIL="Debes ingresar un E-mail v\u00e1lido.",MSG_ERROR_TELEFONO="Debes ingresar un Tel\u00e9fono v\u00e1lido.",MSG_ERROR_LOCALIDAD="Debe Seleccionar una Localidad",MSG_ENVIANDO="Enviando...",MSG_ERROR_FORM="Verifique sus datos.";(function(a){a.fn.isValid=function(){var b=a.trim(this.val()),c=this.attr("placeholder");b==c&&(b="");switch(this.attr("type").toLowerCase()){case "text":if(!b||""===b)return!1;break;case "tel":b=b.replace(/(\()|(\))|(\-)|(\.)|(\+)|(\ )/g,"");if(!b||""===b)return!1;c=/^\d+$/;if(1==c.test(b))break;else return!1;case "email":if(!b||""===b)return!1;c=/^[A-Za-z][A-Za-z0-9_.-]*@[A-Za-z0-9_.-]+\.[A-Za-z0-9_.]+[A-za-z]$/;if(1!=c.test(b))return!1}return!0}})(jQuery);(function(a,b,c){a.app.home=a.extend({},{slider:!1,init:function(){a.app.home.isMobile()&&a.app.home.initMobileSlider();a(b).resize(function(){a.app.home.isMobile()?a.app.home.initMobileSlider():a.app.home.destroyMobileSlider()});a("#botonTel").on("click",function(d){ga("send","event","modelyearend","mobile-"+a(this).data("landing"))});return!0},isMobile:function(){return 900>=a(b).width()},initMobileSlider:function(){a.app.home.slider||(a.app.home.slider=a("#slider").bxSlider({controls:!0,pager:!0}))},
destroyMobileSlider:function(){a.app.home.slider&&(a.app.home.slider.destroySlider(),a.app.home.slider=!1,setTimeout(function(){a("#mobile-slider").removeAttr("style");a("#mobile-slider > li").removeAttr("style")},100))}},a.app.home)})(jQuery,this);(function(a,b,c){a.landing=a.extend({},{enviando:!1,ok:"OK",error:"ERROR",originalBtnTxt:"",completed:!1,submitAjaxForm:function(){a.landing.enviando=!0;a.landing.hideError();a.landing.originalBtnTxt=a("#submit-solicitud").html();a("#submit-solicitud").html(MSG_ENVIANDO);a.ajax({url:a("#form-solicitud").attr("action"),type:"post",data:a("#form-solicitud").serialize(),dataType:"json",success:function(d){if(d.resultado===a.landing.ok)a.landing.completed=!0,a.landing.redirectOK();else if(d.resultado===
a.landing.error)if("undefined"!==typeof d.campo&&""!==d.campo){var b=a("#landing_"+d.campo);a.landing.showError(d.mensaje,b)}else a.landing.showError(d.mensaje);else a.landing.showError(MSG_ERROR_GENERAL)},error:function(){a.landing.showError(MSG_ERROR_GENERAL)},complete:function(){!1===a.landing.completed&&(a.landing.enviando=!1,a("#submit-solicitud").html(a.landing.originalBtnTxt))}})},redirectOK:function(){var d=a("#landing_landing").val(),d=WEB_PATH+d+"/completado/"+b.location.search;"undefined"!==
typeof b.location.replace&&null!==b.location.replace?b.location.replace(d):b.location.href=d},showError:function(b,c){"undefined"!==typeof c&&0<c.length&&(this.isMobileDevice()||c.focus(),c.addClass("error"));a("#error-solicitud").html(b).addClass("active")},hideError:function(b){a("#error-solicitud").removeClass("active");"undefined"!==typeof b&&0<b.length&&b.removeClass("error")},isIpad:function(){return navigator.userAgent.match(/iPad/i)?!0:!1},isIphone:function(){return navigator.userAgent.match(/iPhone|iPod/i)?
!0:!1},isMobile:function(){return navigator.userAgent.match(/Android|iPhone|iPod|BlackBerry|IEMobile/i)?!0:!1},isAndroid:function(){return navigator.userAgent.match(/Android/i)?!0:!1},isMobileDevice:function(){var d=Math.max(a(b).innerWidth(),b.innerWidth);return this.isMobile()||769>d},isLandscape:function(){return b.innerWidth>b.innerHeight}},a.landing)})(jQuery,this);(function(a,b,c){a.app.form=a.extend({},{init:function(){a("#form-solicitud").find("input[type=text], input[type=tel], input[type=email]").on("keyup change",function(){a.landing.hideError(a(this))});a("#form-solicitud").on("submit",function(b){b.preventDefault();if(!a.landing.enviando){b=a(this).find("#landing_nombre");var c=a(this).find("#landing_apellido"),e=a(this).find("#landing_email"),f=a(this).find("#landing_telefono"),g=a(this).find("#landing_localidad");b.isValid()?c.isValid()?e.isValid()?
f.isValid()?""==g.val()?a.landing.showError(MSG_ERROR_LOCALIDAD,g):a.landing.submitAjaxForm():a.landing.showError(MSG_ERROR_TELEFONO,f):a.landing.showError(MSG_ERROR_EMAIL,e):a.landing.showError(MSG_ERROR_APELLIDO,c):a.landing.showError(MSG_ERROR_NOMBRE,b)}});a("#submit-solicitud").on("click",function(b){b.preventDefault();a("#form-solicitud").submit()});a("#landing_telefono").mask("(999) 999-9999");a("#botonTel").on("click",function(b){ga("send","event","modelyearend","mobile-"+a(this).data("landing"))});
a("input,textarea").placeholder();return!0}},a.app.form)})(jQuery,this);
